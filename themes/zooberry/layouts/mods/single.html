{{ define "main" }}
  {{/*  <h1>{{ .Title }}</h1>

  {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
  {{ $dateHuman := .Date | time.Format ":date_long" }}
  <time datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>

  {{ .Content }}
  {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}  */}}

  <div class="body-content">
    {{/*  breadcrumbs  */}}
    {{ partial "breadcrumbs.html" . }}

    {{ $files := .Resources.Match "/*.zip" }}
    {{ $fileCount := len $files }}
    {{/*  if dependencies exists  */}}
    {{ $dependencyCount := 0 }}
    {{ if .Params.dependencies }}
      {{ $dependencyCount = len .Params.dependencies }}
    {{ end }}
    {{ partial "galleria.html" . }}
    <div class="mod-info">
        <div class="mod-meta">
          <h1>Details</h1>

            <div class="meta-group">
              <i class="material-icons icon">sports_esports</i>
              <span class="meta-name">Game</span>{{ .Params.game }}
            </div>
            <div class="meta-group">
              <i class="material-icons icon">grid_on</i>
              <span class="meta-name">Required Expansions</span>
              {{ partial "class-reqexp.html" . }}
            </div>
            <div class="meta-group">
              <i class="material-icons icon">calendar_today</i>
              <span class="meta-name">Original Release</span>{{ .Params.orig_rel_date }}
            </div>
            <div class="meta-group">
              <i class="material-icons icon">history</i>
              <span class="meta-name">Archive Date</span>{{ .Params.Date | time.Format "2006-01-02" }}
            </div>
            <div class="meta-group">
              <i class="material-icons icon">roofing</i>
              <span class="meta-name">Original Platform</span>
              {{ range .Params.orig_rel_at }}
                <a class="badge-default">{{ . }}</a>
              {{ end }}
            </div>
            <div class="meta-group">
              <i class="material-icons icon">change_circle</i>
              <span class="meta-name">Derivative Works Allowed?</span>
              {{ .Params.license }}
            </div>
            <div class="meta-group">
              <i class="material-icons icon">language</i>
              <span class="meta-name">Languages</span>
              {{ partial "class-languages.html" . }}
            </div>
          </div>
          <div class="mod-ilinks">
            <ul>
              <li class="mod-ilinks-item">
                <a class="button-dft" href="#tab-file-anchor" onclick="openTab('tab-files')">
                  <i class="material-icons icon">download</i>
                  Download
                </a>
            </ul>
          </div>
        </div>
    <div class="post-content">
      <div class="mod-tab-bar">
        <button class="mod-tab-btn tab-description tab-active" onclick="openTab('tab-description')">Description</button>
        <button class="mod-tab-btn tab-files" onclick="openTab('tab-files')" id="tab-file-anchor">Files
          {{ if gt $fileCount 0 }}
            <span class="badge-alert">{{ $fileCount }}</span>
          {{ end }}
        </button>
        <button class="mod-tab-btn tab-dependencies" onclick="openTab('tab-dependencies')">Dependencies
          <span class="badge-alert">{{ $dependencyCount }}</span>
        </button>
      </div> 
      <div class="tab tab-description">
        <h2>Description</h2>
        {{ .Content }}
      </div>
      <div class="tab tab-files" style="display: none;">
        <h2>Files</h2>
        {{ partial "range-files.html" . }}
      </div>
      <div class="tab tab-dependencies" style="display: none;">
        <h2>Dependencies</h2>
        {{ partial "range-dependencies.html" . }}
      </div>
    </div>
  </div>
  
    {{ partial "sidebar_r-mods.html" . }}
    <script>
      function openTab(item) {
        var i;
        var pages = document.getElementsByClassName("tab");
        var tabs = document.getElementsByClassName("mod-tab-btn");
        for (i = 0; i < pages.length; i++) {
          pages[i].style.display = "none";
          tabs[i].classList.remove("tab-active");
        }
        document.getElementsByClassName(item)[1].style.display = "block";
        document.getElementsByClassName(item)[0].classList.add("tab-active");
      }
    </script>
{{ end }}
