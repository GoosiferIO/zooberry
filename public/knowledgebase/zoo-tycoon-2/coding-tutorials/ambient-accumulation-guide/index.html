<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Ambient Accumulation Guide | ZooBerry</title>
























<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="icon" href="https://cdn.goosifer.io/2.0/images/favicon.png" type="image/x-icon">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
<link rel="preload" rel="stylesheet" href="https://cdn.goosifer.io/2.0//css/styles.352b715d30180970212ba5ccad90c534f662a8de4da27458dcac2c64d7f6ed59.css" type="text/css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" rel="stylesheet" href="https://cdn.goosifer.io/2.0//css/galleria.classic.1c47c737312afe1bf3a6d8cc89d926b042c7f5ea791b089e1ecda053924f32a2.css" type="text/css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />



    <script src="/js/jquery.js"></script>
    <script src="/js/galleria.js"></script>
    <script src="/js/main.js"></script>
    <script src="js/galleria.classic.js"></script>
    <script src="/js/main.js"></script>

<script src="https://unpkg.com/lunr/lunr.js"></script>


<meta property="og:title" content="Ambient Accumulation Guide" >
<meta property="og:type" content="article" >

<meta property="og:site_name" content="ZooBerry" >
<meta property="og:description" content="Ambient Accumulation Guide
In this tutorial you will be creating ambient animals, but you MUST create it based off an existing ambient animal. Now is the time to figure that out and from now on it will be referred to as the base animal. Also, you should know that the 2 folders contained in the download called entities and world will be referred to as your files.
Section I: Gathering the Files
The first thing you must do is get the files that you will be editing. To do this, you will need some sort of extracting program such as WinRAR or WinZIP. Go to the Zoo Tycoon Folder which is most likely located in C:Program Files/Microsoft Games/Zoo Tycoon 2. Now, there are 2 files to get.
File 1: The ai file

If you have ES: You will need to open x100_000.z2f with an extracting program and go to entities/units/animals/ai and find the xml file that matches the ambient you are basing it off of. For instance DuckMallard or Bullfrog and then copy and paste that into the corresponding location in your files.
If you have AA but do NOT have ES: Follow above rules but with the x101_000.z2f file.
If you have no expansions: Follow above with entities.z2f file.

File 2: The model files

If you are basing it off a normal ZT2 ambient: Go to entities.z2f and then go to entities/units/animals. Then find and go into the folder with the codename of the base animal. Now select 2 files, the .bfm, .nif and .dds files. Copy and paste them into your files in entities/units/animals/codename
If you are basing it off an ES ambient: Go to x100_000.z2f and follow above rules.

Now you have all the files you need and it is time to think of a codename. It must be the same length as the base animal&rsquo;s. For instance, if I was making a blue duck, and I was basing it off of the DuckMallard, I would make my codename DuckBlueblu. That way it is the same length.
Section 2: Coding the Entities Folder
In this section you will be coding everything that is in the entities folder. Remember your codename and I often have it copied so I can paste it whenever I need to.
Part 1: The AI File
Start by going in your files to entities/units/animals/ai. In there should be the xml file that you got in section 1. Now you will need to rename that to your codename. Then right click on it, say Open With then select Choose Program and find notepad. Once it is open in notepad, go to Edit &gt; Replace. Then a little box will pop up with 2 blank areas for text. In the first one after Find What: Enter in the base animal&rsquo;s codename. In the part after Replace With: enter your codename. Then hit Replace All. After it finishes go to File &gt; Save. Then you can close that window.
Part 2: The codename Folder
Start by renaming the codename folder to your codename. Then open it and there should be three files. Rename them so you replace the old codename with your codename in the name. For instance with the blue duck I would have these three files: DuckBlueblu_Adult_F.dds, DuckBlueblu_Adult_F.bfm and DuckBlueblu_Adult_F.nif
The .BFM file: Open the .BFM file in notepad by following the instructions in Part 1 for the ai file. Once it is in notepad, you will have to edit two lines. They are the first line and the line beginning with &lt;Graph name. For instance with the blue duck I would edit the first line:
&lt;BFM modelname=&#34;entities\units\animals\DuckMallard\DuckMallard_Adult_F.nif&#34;&gt;
And make it become:
&lt;BFM modelname=&#34;entities\units\animals\DuckBlueblu\DuckBlueblu_Adult_F.nif&#34;&gt;
And I would edit this line:
&lt;Graph name=&#34;DuckMallard_Adult_F&#34; version=&#34;1&#34;&gt;
And it would become:
&lt;Graph name=&#34;DuckBlueblu_Adult_F&#34; version=&#34;1&#34;&gt;
Do not edit any other lines. After you edit those 2 lines save and close the window.
The .NIF File
For this you will need a hex editor. If you don&rsquo;t already have one, you can get one from this site called XVI32: http://www.chmaas.handshake.de/delphi/f &hellip; /xvi32.htm
Now open the .NIF in the hex editor. You will be editing things in the left section only. The way it works is that when you type it will override the existing text. Begin by going to Search &gt; Find in XVI32 or whatever it may be in your hex editor. Then enter .dds and see where it brings you. It will be the name of the old .dds file, for instance DuckMallard_Adult_F.dds. So, begin by clicking on the first letter of the name. In my example it would be the first D. Then, just type your codename so that it overrides the original. Then save and close.
The .DDS File: This is the skin to be recolored. If you do not know how to recolor, I recommend using the guide I made here: http://z14.invisionfree.com/ZT2_Designi &hellip; wtopic=152
Section 3: The world Folder
The biome folder
Go to world/ambients and you will see a folder called biome. First, decide how many biomes your ambient will be allowed to go in, and then copy and paste the biome folder until you have an equal number of folders as biomes that you want it to be allowed in. For instance if you want it to be in 4 biomes you will end up with 4 folders most likely named:
biome, Copy of biome, Copy (2) of biome, Copy (3) of biome
Then you will need to rename each of these folders to one of the biomes that you want it to be. So, pick the biomes from the list and rename the folders accordingly. It is OK to have only one folder and one biome if that is what you want, or you can have all 10.
Here are the names you can rename the folders to:

alpine
borealforest
desert
grassland
savannah
scrub
temperateforest
tropicalrainforest
tundra
wetlands

The codename file: Now open one of the folders and you will see an XML file named codename. Change the name of it to your codename. Now open it with notepad and you will see it is very ****. You will need to change codename in this line:
&lt;a name=&#34;codename&#34;/&gt;
So that it matches your codename. For instance:
&lt;a name=&#34;DuckBlueblu&#34;/&gt;
Now repeat that step by doing the same thing with the codename file in each of the biome folders.
Section 4: Finishing the File
Go back to the 2 original folders, entities and world and select both of them. Now right click and say Add to Archive if you have WinRAR. If you have WinZIP it will be something similar to that. If you have WinZip just follow the WinRar instructions the same but with WinZip. A window will pop up. First, only if you have WinRar, make sure that under Archive Format on the left ZIP is selected. The default is RAR and that will NOT work. In the top under Archive Name enter in any name you want and have it end with .z2f Then hit OK and it will archive it for you. Now, you are done!
" >
<meta name="twitter:card" content="summary_large_image">
<meta property="twitter:domain" content="zooberry.org">
<meta property="twitter:url" content="http://localhost:1313/knowledgebase/zoo-tycoon-2/coding-tutorials/ambient-accumulation-guide/">
<meta name="twitter:title" content="ZooBerry">
<meta name="twitter:description" content="Ambient Accumulation Guide
In this tutorial you will be creating ambient animals, but you MUST create it based off an existing ambient animal. Now is the time to figure that out and from now on it will be referred to as the base animal. Also, you should know that the 2 folders contained in the download called entities and world will be referred to as your files.
Section I: Gathering the Files
The first thing you must do is get the files that you will be editing. To do this, you will need some sort of extracting program such as WinRAR or WinZIP. Go to the Zoo Tycoon Folder which is most likely located in C:Program Files/Microsoft Games/Zoo Tycoon 2. Now, there are 2 files to get.
File 1: The ai file

If you have ES: You will need to open x100_000.z2f with an extracting program and go to entities/units/animals/ai and find the xml file that matches the ambient you are basing it off of. For instance DuckMallard or Bullfrog and then copy and paste that into the corresponding location in your files.
If you have AA but do NOT have ES: Follow above rules but with the x101_000.z2f file.
If you have no expansions: Follow above with entities.z2f file.

File 2: The model files

If you are basing it off a normal ZT2 ambient: Go to entities.z2f and then go to entities/units/animals. Then find and go into the folder with the codename of the base animal. Now select 2 files, the .bfm, .nif and .dds files. Copy and paste them into your files in entities/units/animals/codename
If you are basing it off an ES ambient: Go to x100_000.z2f and follow above rules.

Now you have all the files you need and it is time to think of a codename. It must be the same length as the base animal&rsquo;s. For instance, if I was making a blue duck, and I was basing it off of the DuckMallard, I would make my codename DuckBlueblu. That way it is the same length.
Section 2: Coding the Entities Folder
In this section you will be coding everything that is in the entities folder. Remember your codename and I often have it copied so I can paste it whenever I need to.
Part 1: The AI File
Start by going in your files to entities/units/animals/ai. In there should be the xml file that you got in section 1. Now you will need to rename that to your codename. Then right click on it, say Open With then select Choose Program and find notepad. Once it is open in notepad, go to Edit &gt; Replace. Then a little box will pop up with 2 blank areas for text. In the first one after Find What: Enter in the base animal&rsquo;s codename. In the part after Replace With: enter your codename. Then hit Replace All. After it finishes go to File &gt; Save. Then you can close that window.
Part 2: The codename Folder
Start by renaming the codename folder to your codename. Then open it and there should be three files. Rename them so you replace the old codename with your codename in the name. For instance with the blue duck I would have these three files: DuckBlueblu_Adult_F.dds, DuckBlueblu_Adult_F.bfm and DuckBlueblu_Adult_F.nif
The .BFM file: Open the .BFM file in notepad by following the instructions in Part 1 for the ai file. Once it is in notepad, you will have to edit two lines. They are the first line and the line beginning with &lt;Graph name. For instance with the blue duck I would edit the first line:
&lt;BFM modelname=&#34;entities\units\animals\DuckMallard\DuckMallard_Adult_F.nif&#34;&gt;
And make it become:
&lt;BFM modelname=&#34;entities\units\animals\DuckBlueblu\DuckBlueblu_Adult_F.nif&#34;&gt;
And I would edit this line:
&lt;Graph name=&#34;DuckMallard_Adult_F&#34; version=&#34;1&#34;&gt;
And it would become:
&lt;Graph name=&#34;DuckBlueblu_Adult_F&#34; version=&#34;1&#34;&gt;
Do not edit any other lines. After you edit those 2 lines save and close the window.
The .NIF File
For this you will need a hex editor. If you don&rsquo;t already have one, you can get one from this site called XVI32: http://www.chmaas.handshake.de/delphi/f &hellip; /xvi32.htm
Now open the .NIF in the hex editor. You will be editing things in the left section only. The way it works is that when you type it will override the existing text. Begin by going to Search &gt; Find in XVI32 or whatever it may be in your hex editor. Then enter .dds and see where it brings you. It will be the name of the old .dds file, for instance DuckMallard_Adult_F.dds. So, begin by clicking on the first letter of the name. In my example it would be the first D. Then, just type your codename so that it overrides the original. Then save and close.
The .DDS File: This is the skin to be recolored. If you do not know how to recolor, I recommend using the guide I made here: http://z14.invisionfree.com/ZT2_Designi &hellip; wtopic=152
Section 3: The world Folder
The biome folder
Go to world/ambients and you will see a folder called biome. First, decide how many biomes your ambient will be allowed to go in, and then copy and paste the biome folder until you have an equal number of folders as biomes that you want it to be allowed in. For instance if you want it to be in 4 biomes you will end up with 4 folders most likely named:
biome, Copy of biome, Copy (2) of biome, Copy (3) of biome
Then you will need to rename each of these folders to one of the biomes that you want it to be. So, pick the biomes from the list and rename the folders accordingly. It is OK to have only one folder and one biome if that is what you want, or you can have all 10.
Here are the names you can rename the folders to:

alpine
borealforest
desert
grassland
savannah
scrub
temperateforest
tropicalrainforest
tundra
wetlands

The codename file: Now open one of the folders and you will see an XML file named codename. Change the name of it to your codename. Now open it with notepad and you will see it is very ****. You will need to change codename in this line:
&lt;a name=&#34;codename&#34;/&gt;
So that it matches your codename. For instance:
&lt;a name=&#34;DuckBlueblu&#34;/&gt;
Now repeat that step by doing the same thing with the codename file in each of the biome folders.
Section 4: Finishing the File
Go back to the 2 original folders, entities and world and select both of them. Now right click and say Add to Archive if you have WinRAR. If you have WinZIP it will be something similar to that. If you have WinZip just follow the WinRar instructions the same but with WinZip. A window will pop up. First, only if you have WinRar, make sure that under Archive Format on the left ZIP is selected. The default is RAR and that will NOT work. In the top under Archive Name enter in any name you want and have it end with .z2f Then hit OK and it will archive it for you. Now, you are done!
">


    
        <meta property="article:author" content="Penguinman" >
    

<meta property="og:url" content="http://localhost:1313/knowledgebase/zoo-tycoon-2/coding-tutorials/ambient-accumulation-guide/" >










  </head>
  <body>
    <style>
      :root {
         
        --logo: url('https://cdn.goosifer.io/2.0/images/logo.png') no-repeat !important;
      }

      :root.light {
           
        --logo: url('https://cdn.goosifer.io/2.0/images/logo-lt.png') no-repeat !important;
      }

      .box-frontpage {
        border: 1px solid var(--secondary-border);
        padding: 2rem;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        background: url('https://cdn.goosifer.io/2.0/images/bear.webp') no-repeat top -2rem right -6rem / 50% !important;
        text-shadow: 0 0 10px var(--primary-bg);
      }
    
    </style>
    
      <div class="content">
    
        <div id="overlay" class="overlay"></div>
        
          <div class="sidebar" id="sidebar">
    
    <div class="nav-controls">
        <a href="/" title="ZooBerry" class="nav-logo"></a>
        <button id="close-button" class="close-button">
            <i class="material-icons">close</i>
        </button>
    </div>
    <div class="menu-container">
    
    
    <ul class="side-ul main-menu sidebar-open">
        <li class="side-kofi">
            <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
            <script type='text/javascript'>
                kofiwidget2.init('Support Us on Ko-fi', 'var(--kofi)', 'U7U6UXNXD');
                kofiwidget2.draw();
            </script>
        </li>

        
        
        
    
        
    
        
            <li class="side-li">
                <a href="/"><i class="material-icons icon pre-anim">home</i> Home</a>
            </li>
        
        
            <li class="side-li has-children">
                <a class="dropbtn" href="#"><i class="material-icons icon pre-anim">extension</i>Mods<i class="material-icons icon arrow">arrow_forward_ios</i></a>
                <ul class="submenu">
                    <li class="side-kofi">
                        <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
                        <script type='text/javascript'>
                            kofiwidget2.init('Support Us on Ko-fi', 'var(--kofi)', 'U7U6UXNXD');
                            kofiwidget2.draw();
                        </script>
                    </li>
            
                    <li class="submenu-back">
                        <a href="#" class="back-btn">
                            <i class="material-icons icon pre-anim">arrow_back_ios</i>Main Menu
                        </a>
                    </li>

                    
                    
                        <li class="selectedli"><a href="/mods">Mods</a></li>
                    
                    
                        
                        
                            <li><a href="/mods/assets">Assets</a></li>
                        
                    
                        
                        
                            <li><a href="/mods/zt1/tags/all">Zoo Tycoon 1</a></li>
                        
                    
                        
                        
                            <li><a href="/mods/zt2/tags/all">Zoo Tycoon 2</a></li>
                        
                    
                </ul>
            </li>
        
        
        
            <li class="side-li has-children">
                <a class="dropbtn" href="#"><i class="material-icons icon pre-anim">info</i>About<i class="material-icons icon arrow">arrow_forward_ios</i></a>
                <ul class="submenu">
                    <li class="side-kofi">
                        <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
                        <script type='text/javascript'>
                            kofiwidget2.init('Support Us on Ko-fi', 'var(--kofi)', 'U7U6UXNXD');
                            kofiwidget2.draw();
                        </script>
                    </li>
            
                    <li class="submenu-back">
                        <a href="#" class="back-btn">
                            <i class="material-icons icon pre-anim">arrow_back_ios</i>Main Menu
                        </a>
                    </li>

                    
                    
                        <li class="selectedli"><a href="/knowledgebase/zooberry/site/about">About</a></li>
                    
                    
                        
                        
                            <li><a href="/knowledgebase/zooberry/site/faq">FAQ</a></li>
                        
                    
                        
                        
                            <li><a href="/knowledgebase/zooberry/site/licenses">Licenses</a></li>
                        
                    
                        
                        
                            <li><a href="/knowledgebase/zooberry/site/tos">Terms of Service</a></li>
                        
                    
                </ul>
            </li>
        
        
        
            <li class="side-li has-children">
                <a class="dropbtn" href="#"><i class="material-icons icon pre-anim">people</i>Community<i class="material-icons icon arrow">arrow_forward_ios</i></a>
                <ul class="submenu">
                    <li class="side-kofi">
                        <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
                        <script type='text/javascript'>
                            kofiwidget2.init('Support Us on Ko-fi', 'var(--kofi)', 'U7U6UXNXD');
                            kofiwidget2.draw();
                        </script>
                    </li>
            
                    <li class="submenu-back">
                        <a href="#" class="back-btn">
                            <i class="material-icons icon pre-anim">arrow_back_ios</i>Main Menu
                        </a>
                    </li>

                    
                    
                        <li class="selectedli"><a href="#">Community</a></li>
                    
                    
                        
                        
                            <li><a href="/blog">Blog</a></li>
                        
                    
                        
                        
                            <li><a href="https://discord.gg/ATqFYVsjkc">Discord</a></li>
                        
                    
                        
                        
                            <li><a href="/knowledgebase/zooberry/community/other-websites">Other Websites</a></li>
                        
                    
                </ul>
            </li>
        
        
        
            <li class="side-li">
                <a href="/knowledgebase/zooberry/site/submit"><i class="material-icons icon pre-anim">upload</i> Submit a File</a>
            </li>
        
        
            <li class="side-li">
                <a href="mailto:zooberry@goosifer.io"><i class="material-icons icon pre-anim">email</i> Contact</a>
            </li>
        
    </ul>
    
    <script>
    function toggleSubMenu(event, element) {
        event.preventDefault(); 
        var submenu = element.nextElementSibling; 
        if (submenu.classList.contains('sub-hidden')) {
            submenu.classList.remove('sub-hidden'); 
        } else {
            submenu.classList.add('sub-hidden'); 
        }
    }
    </script>



    
    <ul class="side-ul filter-menu sidebar-open">
        <li class="side-li"><a class="dropbtn" href="/latest"><i class="material-icons icon">arrow_forward</i> Latest Mods</a></li>
        <li class="side-li"><a class="dropbtn" href="/authors"><i class="material-icons icon">groups</i> Author List</a></li>
        <li class="side-li"><a class="dropbtn" href="/archives"><i class="material-icons icon">archive</i> Archived Websites</a></li>
        <li class="side-li"><a class="dropbtn" href="/teams"><i class="material-icons icon">design_services</i> Design Teams</a></li>
    </ul>

    
    <label class="switch">
        <input type="checkbox" id="theme-switcher">
        <div class="slider round"></div>
    </label>

    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const themeSwitcher = document.getElementById('theme-switcher');
        
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.documentElement.classList.add('light');
                themeSwitcher.checked = true;
            } else {
                document.documentElement.classList.remove('light');
                themeSwitcher.checked = false;
            }
        
            
            themeSwitcher.addEventListener('change', function() {
                if (this.checked) {
                    document.documentElement.classList.add('light');
                    localStorage.setItem('theme', 'light');
                } else {
                    document.documentElement.classList.remove('light');
                    localStorage.setItem('theme', 'dark');
                }
            });
        });
    </script>
    

    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const menuLinks = document.querySelectorAll('.side-li.has-children > .dropbtn');
            const mainMenu = document.querySelector('.side-ul.main-menu');
            
            menuLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault(); 
            
                    const submenu = this.nextElementSibling;
            
                    if (submenu && submenu.classList.contains('submenu')) {
                        
                        document.querySelectorAll('.submenu.submenu-open').forEach(sub => {
                            if (sub !== submenu) {
                                sub.classList.remove('submenu-open');
                                sub.classList.add('submenu-closing');
                                mainMenu.classList.remove('menu-slid');
                            }
                        });
            
                        
                        if (!submenu.classList.contains('submenu-open')) {
                            submenu.classList.remove('submenu-closing');
                            submenu.classList.add('submenu-open');
                            mainMenu.classList.add('menu-slid'); 
                        } else {
                            submenu.classList.remove('submenu-open');
                            submenu.classList.add('submenu-closing');
                            mainMenu.classList.remove('menu-slid'); 
                        }
                    }
                });
            });
        
            
            const backButtons = document.querySelectorAll('.submenu .back-btn');
            backButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault(); 
            
                    const submenu = this.closest('.submenu');
                    submenu.classList.remove('submenu-open');
                    submenu.classList.add('submenu-closing');
                    mainMenu.classList.remove('menu-slid'); 
                });
            });
        
            
            const activeMenuItem = document.querySelector('.submenu .active');
            if (activeMenuItem) {
                const submenu = activeMenuItem.closest('.submenu');
                if (submenu) {
                    submenu.classList.add('submenu-open');  
                    mainMenu.classList.add('menu-slid');    
                }
            }
        
            
            document.querySelectorAll('.submenu').forEach(submenu => {
                submenu.addEventListener('transitionend', function (e) {
                    
                    if (e.target !== submenu) return;
            
                    
                    if (submenu.classList.contains('submenu-closing')) {
                        submenu.classList.remove('submenu-closing');
                        submenu.style.opacity = '';
                        submenu.style.transform = '';
                        submenu.style.pointerEvents = '';
                    }
                });
            });
        });
        
                        </script>
                    </div>
</div>

        
        <div id="main-wrapper" class="main-wrapper">
            

    <nav class="container inner-nav">
        <ul class="inner-nav-ul">
            <button id="menu-button" class="menu-button">
                <i class="material-icons">menu</i>
            </button>
            <a href="/" title="ZooBerry" class="nav-logo"></a>
            <div id="search-container" style="position: relative;">
                <input type="text" id="search-box" placeholder="Search mods...">
                <ul id="search-results"></ul>
            </div>
        </ul>
    </nav>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        
        const searchBox = document.getElementById('search-box');
        const resultsContainer = document.getElementById('search-results');
      
        searchBox.value = ''; 
        resultsContainer.innerHTML = ''; 
      });

    let searchIndex;

    function toProperCase(str) {
        return str
          .split(' ') 
          .map(word => word.charAt(0).toUpperCase() + word.slice(1)) 
          .join(' '); 
      }
  
    
    fetch('/index.json')
      .then(response => response.json())
      .then(data => {
        console.log('Fetched JSON data:', data);
  
        
        searchIndex = lunr(function () {
          this.ref('url'); 
          this.field('title');
          this.field('game');
          this.field('contents'); 
          this.field('author');
  
          data.forEach(doc => {
            console.log('Adding document to index:', doc);
  
            
            const aggregatedContents = doc.contents.join(' ');
            this.add({
                title: doc.title.toLowerCase(),
                url: doc.url,
                contents: aggregatedContents.toLowerCase(), 
                game: doc.game.toLowerCase(),
                author: doc.author.toLowerCase()
            });
          });
        });
  
        console.log('Lunr.js index initialized:', searchIndex);
  
        
        window.searchDocs = data.reduce((acc, doc) => {
            acc[doc.url] = {
              ...doc, 
            };
            return acc;
          }, {});
                })
      .catch(error => console.error('Error fetching or processing JSON:', error));
  
    
    document.getElementById('search-box').addEventListener('input', function () {
      const query = this.value.trim().toLowerCase();
      const resultsContainer = document.getElementById('search-results');
      resultsContainer.innerHTML = ''; 
    
      
      if (query.length === 0 || !searchIndex) {
        resultsContainer.style.display = 'none';
        return;
      }

        resultsContainer.style.display = 'flex';
        resultsContainer.style.flexDirection = 'column';
  
      
      const exactMatchResults = searchIndex.search(query);
      const partialResults = searchIndex.search(`*${query}*`)
      
      const results = [...new Map([...exactMatchResults, ...partialResults].map(item => [item.ref, item])).values()];
      console.log('Search results:', results);

    
    if (results.length === 0) {
        const listItem = document.createElement('li');
        listItem.textContent = 'No results found';
        resultsContainer.appendChild(listItem);
        return;
    }

  
    results.slice(0, 10).forEach(result => {
        
        const doc = window.searchDocs[result.ref];
        console.log('Matching document:', doc);
  
        const link = document.createElement('a');
        link.href = doc.url;
        
        link.textContent = toProperCase(doc.title);
  
        
        const author = doc.author ? `by ${doc.author}` : '';
        
        const game = doc.game === 'zoo tycoon 1' ? 'ZT1' : doc.game === 'zoo tycoon 2' ? 'ZT2' : 'Assets';
        const span = document.createElement('span');
        span.textContent = `${game}`;
        span.className = doc.game === 'zoo tycoon 1' ? 'span-zt1' : doc.game === 'zoo tycoon 2' ? 'span-zt2' : doc.game === 'assets' ? 'span-assets' : '';
        link.appendChild(span);

        
        const author_span = document.createElement('span');
        author_span.textContent = `${author}`;
        author_span.className = 'list-results-author';
        link.appendChild(author_span);

        
        const listItem = document.createElement('li');
        
        
        const matchingContents = doc.contents.filter(item => item.toLowerCase().includes(query));
        if (matchingContents.length > 0) {
            const sublist = document.createElement('ul');
            sublist.className = 'sublist';
            sublist.style.marginLeft = '16px'; 

            
            const contents_span = document.createElement('li');
            contents_span.textContent = 'Found inside:';
            contents_span.className = 'sublist-header';
            sublist.appendChild(contents_span);

            matchingContents.forEach(content => {
                const subItem = document.createElement('li');
                subItem.textContent = toProperCase(content); 
                sublist.appendChild(subItem);
            });


            listItem.appendChild(sublist);

            link.appendChild(sublist);

        }

        listItem.appendChild(link);
        resultsContainer.appendChild(listItem);
        
        }); });
  </script>
  
  <style>
    #search-container {
        width: 80%;
        position: relative;
        padding: 0;
      }

        #search-box {
            width: calc(100% - 20px);
            padding: 10px;
            font-size: 0.9rem;
            border: none;
            border-radius: 5px;
            outline: none;
        }

        #search-box:hover {
            filter: brightness(0.9);
             
            transition: filter ease-in-out 0.3s;

        }
      
        #search-results {
            display: none;
            list-style-type: none;
            margin: -4px 0 0;
            position: absolute; 
            top: 100%; 
            left: 0;
            width: 100%;
            background-color: #fff;
            border-radius: 0 0 5px 5px;
            z-index: 1000;
            max-height: 300px;
            overflow-y: auto; 
          }
          
          #search-results li {
            display: list-item;
            width: 100%;
            font-size: 1rem;
            border-bottom: 1px solid #f2f2f2;
          }

          #search-results li:hover {
            background: #e7e7e7;
            transition: background ease-in-out 0.3s;
            }
          
          #search-results a {
            text-decoration: none;
            color: var(--thead-bg);
            display: block; 
            padding: 1rem;
          }
          
           
          #search-results .sublist {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            color: #666;
          }

          #search-results .sublist-header {
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
            margin-left: 5px !important;
            font-style: none !important;
          }

           
            #search-results .sublist li {
                margin: 5px 0 0 20px;
                display: list-item;
                width: 100%;
                font-style: italic;
                border: none;
            }
          
           
            #search-results a span:first-child {
                font-size: 0.8em;
                color: #f5f5f5;
                margin: 0 5px;
                padding: 2px 4px;
                border-radius: 5px;
            }

             
            .span-zt1 {
                background-color: #6597ac;
            }

            .span-zt2 {
                background-color: #a8ad7c;
                color: #333;
            }

            .span-assets {
                background-color: #b97ea1;
                color: #333;
            }

             
            #search-results a .list-results-author {
                font-size: 0.8em;
                color: #666;
                margin: 0 0.1rem;
                padding: 2px;
                border-radius: 5px;
                font-style: italic;
            }


    nav.inner-nav {
        display: flex !important;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        position: fixed;
        z-index: 1000;
        padding-left: 34rem;
    }
                              
  </style>
          <main>
            <header>
              





  
  
    

            </header>
              
<div class="article-container" id="TableOfContents">
  <div class="article">
    <nav aria-label="breadcrumbs">
  <div class="breadcrumbs">
    
    
    
    

    
      
        
        
      
    
      
        
        
      
    
      
        
        
      
    
      
        
        
      
    
      
        

    
    

    
    
      <a href="http://localhost:1313/">Home</a>
    
      <a href="">Welcome to the ZooBerry Knowledgebase</a>
    
      <a href="http://localhost:1313/knowledgebase/zoo-tycoon-2/">Zoo Tycoon 2</a>
    
      <a href="http://localhost:1313/knowledgebase/zoo-tycoon-2/coding-tutorials/">Coding Tutorials</a>
    

    
    <span class="active">Ambient Accumulation Guide</span>
  </div>
</nav>
  
    <div class="article-post">
        <span class="article-github-link">
          
            
        
            
            <a href="https://github.com/GoosiferIO/zooberry/raw/main/content/knowledgebase/zoo-tycoon-2/coding-tutorials/ambient-accumulation-guide.md" title="View this page on GitHub" alt="View this page on GitHub" target="_blank" rel="noopener">
              <span class="material-symbols-outlined">
                quick_reference_all
              </span>
            </a>
            <a href="https://github.com/GoosiferIO/zooberry/edit/main/content/knowledgebase/zoo-tycoon-2/coding-tutorials/ambient-accumulation-guide.md" title="Edit this page on GitHub" alt="Edit this page on GitHub" target="_blank" rel="noopener">
              <span class="material-symbols-outlined">
                edit
              </span>
            </a>
            
            <a href="https://github.com/GoosiferIO/zooberry/issues/" title="Report an error on GitHub" alt="Report an error on GitHub" target="_blank" rel="noopener">
              <span class="material-symbols-outlined">
                error_outline
              </span>
            </a>
        

        </span>
        <h1 id="ambient-accumulation-guide">Ambient Accumulation Guide</h1>
<p>In this tutorial you will be creating ambient animals, but you MUST create it based off an existing ambient animal. Now is the time to figure that out and from now on it will be referred to as the base animal. Also, you should know that the 2 folders contained in the download called entities and world will be referred to as your files.</p>
<h2 id="section-i-gathering-the-files">Section I: Gathering the Files</h2>
<p>The first thing you must do is get the files that you will be editing. To do this, you will need some sort of extracting program such as WinRAR or WinZIP. Go to the Zoo Tycoon Folder which is most likely located in <code>C:Program Files/Microsoft Games/Zoo Tycoon 2</code>. Now, there are 2 files to get.</p>
<h3 id="file-1-the-ai-file">File 1: The ai file</h3>
<ul>
<li>If you have ES: You will need to open <code>x100_000.z2f</code> with an extracting program and go to <code>entities/units/animals/ai</code> and find the xml file that matches the ambient you are basing it off of. For instance <code>DuckMallard</code> or <code>Bullfrog</code> and then copy and paste that into the corresponding location in your files.</li>
<li>If you have AA but do NOT have ES: Follow above rules but with the <code>x101_000.z2f</code> file.</li>
<li>If you have no expansions: Follow above with <code>entities.z2f</code> file.</li>
</ul>
<h3 id="file-2-the-model-files">File 2: The model files</h3>
<ul>
<li>If you are basing it off a normal ZT2 ambient: Go to <code>entities.z2f</code> and then go to <code>entities/units/animals</code>. Then find and go into the folder with the codename of the base animal. Now select 2 files, the <code>.bfm</code>, <code>.nif</code> and <code>.dds</code> files. Copy and paste them into your files in <code>entities/units/animals/codename</code></li>
<li>If you are basing it off an ES ambient: Go to <code>x100_000.z2f</code> and follow above rules.</li>
</ul>
<p>Now you have all the files you need and it is time to think of a codename. It must be the same length as the base animal&rsquo;s. For instance, if I was making a blue duck, and I was basing it off of the <code>DuckMallard</code>, I would make my codename <code>DuckBlueblu</code>. That way it is the same length.</p>
<h2 id="section-2-coding-the-entities-folder">Section 2: Coding the Entities Folder</h2>
<p>In this section you will be coding everything that is in the <code>entities</code> folder. Remember your codename and I often have it copied so I can paste it whenever I need to.</p>
<h3 id="part-1-the-ai-file">Part 1: The AI File</h3>
<p>Start by going in your files to <code>entities/units/animals/ai</code>. In there should be the xml file that you got in section 1. Now you will need to rename that to your codename. Then right click on it, say <strong>Open With</strong> then select <strong>Choose Program</strong> and find notepad. Once it is open in notepad, go to <strong>Edit &gt; Replace</strong>. Then a little box will pop up with 2 blank areas for text. In the first one after Find What: Enter in the base animal&rsquo;s codename. In the part after <strong>Replace With</strong>: enter your codename. Then hit <strong>Replace All</strong>. After it finishes go to <strong>File &gt; Save</strong>. Then you can close that window.</p>
<h3 id="part-2-the-codename-folder">Part 2: The codename Folder</h3>
<p>Start by renaming the codename folder to your codename. Then open it and there should be three files. Rename them so you replace the old codename with your codename in the name. For instance with the blue duck I would have these three files: <code>DuckBlueblu_Adult_F.dds</code>, <code>DuckBlueblu_Adult_F.bfm</code> and <code>DuckBlueblu_Adult_F.nif</code></p>
<p>The .BFM file: Open the .BFM file in notepad by following the instructions in Part 1 for the ai file. Once it is in notepad, you will have to edit two lines. They are the first line and the line beginning with <code>&lt;Graph name</code>. For instance with the blue duck I would edit the first line:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;BFM</span> <span style="color:#a6e22e">modelname=</span><span style="color:#e6db74">&#34;entities\units\animals\DuckMallard\DuckMallard_Adult_F.nif&#34;</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>And make it become:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;BFM</span> <span style="color:#a6e22e">modelname=</span><span style="color:#e6db74">&#34;entities\units\animals\DuckBlueblu\DuckBlueblu_Adult_F.nif&#34;</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>And I would edit this line:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Graph</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DuckMallard_Adult_F&#34;</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>And it would become:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Graph</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DuckBlueblu_Adult_F&#34;</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>Do not edit any other lines. After you edit those 2 lines save and close the window.</p>
<h3 id="the-nif-file">The .NIF File</h3>
<p>For this you will need a hex editor. If you don&rsquo;t already have one, you can get one from this site called XVI32: <a href="http://www.chmaas.handshake.de/delphi/f">http://www.chmaas.handshake.de/delphi/f</a> &hellip; /xvi32.htm</p>
<p>Now open the .NIF in the hex editor. You will be editing things in the left section only. The way it works is that when you type it will override the existing text. Begin by going to <strong>Search &gt; Find</strong> in XVI32 or whatever it may be in your hex editor. Then enter .dds and see where it brings you. It will be the name of the old .dds file, for instance <code>DuckMallard_Adult_F.dds</code>. So, begin by clicking on the first letter of the name. In my example it would be the first <code>D</code>. Then, just type your codename so that it overrides the original. Then save and close.</p>
<p>The .DDS File: This is the skin to be recolored. If you do not know how to recolor, I recommend using the guide I made here: <a href="http://z14.invisionfree.com/ZT2_Designi">http://z14.invisionfree.com/ZT2_Designi</a> &hellip; wtopic=152</p>
<h2 id="section-3-the-world-folder">Section 3: The world Folder</h2>
<h3 id="the-biome-folder">The biome folder</h3>
<p>Go to <code>world/ambients</code> and you will see a folder called <code>biome</code>. First, decide how many biomes your ambient will be allowed to go in, and then copy and paste the biome folder until you have an equal number of folders as biomes that you want it to be allowed in. For instance if you want it to be in 4 biomes you will end up with 4 folders most likely named:
<code>biome</code>, <code>Copy of biome</code>, <code>Copy (2) of biome</code>, <code>Copy (3) of biome</code></p>
<p>Then you will need to rename each of these folders to one of the biomes that you want it to be. So, pick the biomes from the list and rename the folders accordingly. It is OK to have only one folder and one biome if that is what you want, or you can have all 10.</p>
<p>Here are the names you can rename the folders to:</p>
<ul>
<li><code>alpine</code></li>
<li><code>borealforest</code></li>
<li><code>desert</code></li>
<li><code>grassland</code></li>
<li><code>savannah</code></li>
<li><code>scrub</code></li>
<li><code>temperateforest</code></li>
<li><code>tropicalrainforest</code></li>
<li><code>tundra</code></li>
<li><code>wetlands</code></li>
</ul>
<p>The codename file: Now open one of the folders and you will see an XML file named codename. Change the name of it to your codename. Now open it with notepad and you will see it is very ****. You will need to change codename in this line:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;a</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;codename&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>So that it matches your codename. For instance:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;a</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DuckBlueblu&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>Now repeat that step by doing the same thing with the codename file in each of the biome folders.</p>
<h2 id="section-4-finishing-the-file">Section 4: Finishing the File</h2>
<p>Go back to the 2 original folders, <code>entities</code> and <code>world</code> and select both of them. Now right click and say <strong>Add to Archive</strong> if you have WinRAR. If you have WinZIP it will be something similar to that. If you have WinZip just follow the WinRar instructions the same but with WinZip. A window will pop up. First, only if you have WinRar, make sure that under Archive Format on the left ZIP is selected. The default is RAR and that will NOT work. In the top under Archive Name enter in any name you want and have it end with .z2f Then hit OK and it will archive it for you. Now, you are done!</p>

    </div>
      <div class="post-subheader">
        <span>
              <strong>Published by </strong> <a href="/authors/penguinman">Penguinman</a>
              <strong> on </strong><span class="post-date">1 Jan 0001</span>
        </span>
      </div>
      
    </div>
    <div class="article-toc">
      <h2>Table of Contents</h2>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#ambient-accumulation-guide">Ambient Accumulation Guide</a>
      <ul>
        <li><a href="#section-i-gathering-the-files">Section I: Gathering the Files</a>
          <ul>
            <li><a href="#file-1-the-ai-file">File 1: The ai file</a></li>
            <li><a href="#file-2-the-model-files">File 2: The model files</a></li>
          </ul>
        </li>
        <li><a href="#section-2-coding-the-entities-folder">Section 2: Coding the Entities Folder</a>
          <ul>
            <li><a href="#part-1-the-ai-file">Part 1: The AI File</a></li>
            <li><a href="#part-2-the-codename-folder">Part 2: The codename Folder</a></li>
            <li><a href="#the-nif-file">The .NIF File</a></li>
          </ul>
        </li>
        <li><a href="#section-3-the-world-folder">Section 3: The world Folder</a>
          <ul>
            <li><a href="#the-biome-folder">The biome folder</a></li>
          </ul>
        </li>
        <li><a href="#section-4-finishing-the-file">Section 4: Finishing the File</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </div>

          </main>
          <footer>
            
<div class="foot-ctr">
    <div class="foot-col">
        <h3>Site</h3>
        <ul>
            <li><a href="/knowledgebase/zooberry/site/about">About</a></li>
            <li><a href="/knowledgebase/zooberry/site/faq">FAQ</a></li>
            <li><a href="/knowledgebase/zooberry/site/licenses">Credits</a></li>
            <li><a href="/knowledgebase/zooberry/site/tos">Terms of Service</a></li>
            <li><a href="mailto:zooberry@goosifer.io">Contact</a></li>
        </ul>
    </div>
    <div class="foot-col">
        <h3>Contribute</h3>
        <ul>
            <li><a href="/knowledgebase/zooberry/site/submit">Submit a Mod</a></li>
            <li><a href="https://github.com/GoosiferIO/zooberry/issues">Report a Bug</a></li>
            <li><a href="https://ko-fi.com/U7U6UXNXD">Support us on Ko-fi</a></li>
        </ul>
    </div>
    <div class="foot-col">
        <h3>Community</h3>
        <ul>
            <li><a href="/blog">Blog</a></li>
            <li><a href="https://github.com/GoosiferIO/">GitHub</a></li>
            <li><a href="https://discord.gg/ATqFYVsjkc">Discord</a></li>
            <li><a href="/knowledgebase/zooberry/community/other-websites">Other Websites</a></li>
        </ul>
    </div>
    <div class="foot-col">
        <h3>ZooBerry</h3>
        <ul>
            <li>Copyright 2025 Goosifer.IO</li>
            <li>ZooBerry 2.1.1 last updated on 11 Jan 2025</li>
            <li>ZooBerry Theme by Goosifer.IO</li>
            <li>Strawberry icon in logo and favicon by <a href="https://icons8.com/" title="Icons8">Icons8</a></li>
        </ul>
        <p>ZooBerry is a fan-made platform dedicated to hosting user-created modifications ("mods") for Zoo Tycoon, a video game developed and owned by Microsoft Corporation. We would like to emphasize that this website is not affiliated with or endorsed by Microsoft in any way. Zoo Tycoon and all related trademarks, logos, characters, and other assets are the property of Microsoft Corporation.</p>

    </div>
</div>

          </footer>
        </div>
      </div>
      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const menuButton = document.getElementById('menu-button');
          const closeButton = document.getElementById('close-button');
          const sidebar = document.getElementById('sidebar');
          const overlay = document.getElementById('overlay');
      
          menuButton.addEventListener('click', function () {
            sidebar.classList.add('open');
             
            sidebar.querySelector('.close-button').style.display = 'block';
            overlay.style.visibility = 'visible';
            overlay.style.opacity = '0.5';
          });
      
          closeButton.addEventListener('click', function () {
            sidebar.classList.remove('open');
            sidebar.querySelector('.close-button').style.display = 'none';
            overlay.style.visibility = 'hidden';
            overlay.style.opacity = '0';
          });
      
          
          document.addEventListener('click', function (event) {
            if (!sidebar.contains(event.target) && !menuButton.contains(event.target)) {
              sidebar.classList.remove('open');
              sidebar.querySelector('.close-button').style.display = 'none';
              overlay.style.visibility = 'hidden';
              overlay.style.opacity = '0';
            }
          });
        });
      </script>
  </body>
</html>
